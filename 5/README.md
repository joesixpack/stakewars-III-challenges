SUPER EASY NEAR VALIDATOR NODE INSTALLATION FOR HETZNER

Head over to the AMD Ryzen dedicated server page at https://www.hetzner.com/dedicated-rootserver/matrix-ax and order the AX41 dedicated server:

![image](https://user-images.githubusercontent.com/23145642/187998813-2e4133f5-947c-4844-bcbf-328e9610fcfc.png)

Click configure, choose Finland for the data center and Ubuntu 22.04 LTS for the operating system.  Place the order by clicking Order Now and provide the usual personal and payment details.  Once your order is processed (can take up to 24 hours and they may also require KYC if you have no priori history with them), they will e-mail you the login details, including the password to the root user account.

You will need a terminal emulator to login to your new dedicated server.  The free version of Mobaxterm is recommended.  You can download it at https://mobaxterm.mobatek.net/download.html

Once installed, open up Mobaxterm and create a new session:

![image](https://user-images.githubusercontent.com/23145642/187999957-48339c0f-1a4c-490d-ab24-cf749187b162.png)

Select SSH:

![image](https://user-images.githubusercontent.com/23145642/188000096-d35d1255-afd0-4fce-a91a-bab62a07b6e6.png)

In the SSH session settings, enter the numerical IP of the server that Hetzner e-mailed you and specify root as the username:

![image](https://user-images.githubusercontent.com/23145642/188000298-241a6521-e0dd-41a1-94ca-62c5fc18a458.png)

Select OK.  The dialog will close and notice that the saved SSH session is under User Sessions on the left menu bar.  Double click it to login and when it asks, copy and paste the root password from the Hetzner e-mail.  In Mobaxterm, dragging to highlight text with the left mouse button automatically copies to the OS clipboard; likewise pressing the right mouse button will automatically paste what is in the OS clipboard.  So on Windows, you can use the left mouse button to drag and highlight the root password, press CTRL C to copy it to the OS clipbard and then switch to Mobaxterm -- first left click on the console screen before pressing the right mouse button to paste.

Once you've sucessfully logged into your root user account similar to the screenshot below, copy and paste the entire chunk below into a text editor and edit the USERNAME to be the preferred name of the user account where NEAR will actually run.  Then copy and paste the entire chunk in the console:

![image](https://user-images.githubusercontent.com/23145642/188002670-c6147248-daef-4ce3-a4cc-33117030dbb0.png)

```
USERNAME=youruseraccountnamehere
####
sudo apt -y update && sudo apt -y install apg
sed -i 's/%sudo\tALL\=.*/%sudo\tALL\=\(ALL:ALL\) NOPASSWD: ALL/' /etc/sudoers
useradd -m -s /bin/bash -G adm,systemd-journal,sudo $USERNAME
echo "password required pam_unix.so sha512 shadow nullok rounds=65536" >> /etc/pam.d/passwd
password=$(apg -m 43 -a 1 -n 1)
(echo $password; echo $password) | passwd $USERNAME
echo "User Password: $password"
```

The above will update the package repository, install a password generator, allow user accounts to have root access without being prompted for a password, create a user account with appropriate group permissions, increase the security of all stored passwords, generate a random password for that user account and then output a password to the console.  Make sure you copy and paste that password somewhere safe as it will be needed in the next step (Mobaxterm can remember passwords for you if enabled.)

Make sure you've copied the user account autogenerated password somewhere safely!  Then reboot the machine with:

```
sudo reboot
```

And then login to the user account with that password.  Now do in order:

1. Edit pool_name in createnode.sh to your-to-be moniker for both the signing wallet & validator pool.

2. Clone this repository and run:

```
./createnode.sh
```

This will compile, install, initialize, autostart and autorun 24/7 a new NEAR node, plus install NEAR-CLI, plus install node monitoring tools (accessible via browser at http://yourserverIP:3000).

3. Once the node is fully synced, create a signing wallet for NEAR-CLI using this exact format "poolnamemoniker.shardnet.near" (without quotes) at https://wallet.shardnet.near.org/.  Once that is done the keypair needs to be downloaded to your server via:

```
near login
```

Copy the URL given and paste it into your browser.  Grant full access to NEAR-CLI in the resulting popup.  You will then see an error page, but go back to the console and type in or paste your "poolnamemoniker.shardnet.near" (without quotes) signing wallet.

4. Edit AMOUNT in createpool.sh with how much you want to stake initially (ideally, above the next epoch's seat price).  It will cost 30 NEAR to create the pool, plus 
gas, plus your stake amount.  Then run:

```
./createpool.sh
```

Once that is done, you're good to go!
